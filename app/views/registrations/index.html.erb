<h1>Registrations</h1>
<div class="panel panel-default">
  <div class="panel-body">
    When the <i>Registrant</i> column contains a hash sign (<i>#</i>), then the
    registration is for a group.  Otherwise, the column contains the first and 
    last name of the person being registered.
  </div>
</div>
<div class="table-responsive">
  <table class="table table-striped table-condensed table-hover">
    <thead>
      <tr>
        <th>Registration</th>
        <th>Course</th>
        <th>Training</th>
        <th>Owner</th>
        <th>Registrant</th>
        <th>Paid</th>
        <th>Last Update</th>
        <th colspan="2"></th>
      </tr>
    </thead>

    <tbody>
      <% @registrations.each do |registration| %>
        <tr>


          <td><%= link_to registration.code, registration %></td>
          <td><%= link_to registration.training.course.name,
            registration.training.course %></td>
          <td><%= link_to registration.training.code, registration.training %></td>

          <td><%= link_to registration.owner.wp_first_name + " " +
            registration.owner.wp_last_name, registration.owner %></td>
               
          <td><%= link_to registration.registerable.handle,
            registration.registerable %></td>

          <td><%= registration.paid_for ? "yes" : "no" %>
         
          <td><%= registration.updated_at.strftime("%b %-d, %Y") %></td>

          <td><%= link_to 'Edit', edit_registration_path(registration),
            class: 'btn btn-primary btn-xs' %></td>
          <td><%= link_to 'Delete', registration, class: 'btn btn-xs btn-danger', 
            method: :delete, data: { confirm: 'Are you sure?' } %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<br>

<%= link_to 'New registration', new_registration_path, class: 'btn btn-primary btn-sm' %>